{% extends "account/base-dashboard.html" %} {% load static %} {% load humanize %} {% block content %} <div id=main  role=main > <div id=ribbon > <span class=ribbon-button-alignment > <span id=refresh  class="btn btn-ribbon" data-action=resetWidgets  data-title=refresh  rel=tooltip  data-placement=bottom  data-original-title="<i class='text-warning fa fa-warning'></i> Warning! This will reset all your widget settings." data-html="true"> <i class="fa fa-refresh"></i> </span> </span> <ol class=breadcrumb > <li>Selamat Datang, {{ user.username|default:'Guest'|title }} - [ {{namaOPD}} ] </ol> </div> <div id=content > <div class=row > <div class="col-xs-12 col-sm-7 col-md-7 col-lg-4"> <h1 class="page-title txt-color-blueDark"> {% for i in menu_aktif %} {% if i.icon != '' %} <i class="fa-fw fa fa-{{i.icon}}"></i> {% else %} <i class="fa-fw fa fa-home"></i> {% endif %} {{i.nama}} <span>> Grid </span> {% endfor %} </h1> </div> </div> <section id=widget-grid  class=""> <div class=row > <article class="col-sm-12 col-md-12 col-lg-12"> <div class="jarviswidget jarviswidget-color-blueLight" id=wid-id-10  data-widget-colorbutton=false  data-widget-editbutton=false  data-widget-togglebutton=false  data-widget-deletebutton=false  data-widget-fullscreenbutton=false  data-widget-custombutton=false  data-widget-sortable=false > <header> <span class=widget-icon > <i class="fa fa-list-alt"></i> </span> <h2>Petunjuk Pengisian</h2> </header> <div> <div class=jarviswidget-editbox > </div> <div class="widget-body no-padding"> <div class="panel-group smart-accordion-default" id=accordion-2 > <div class="panel panel-default"> <div class=panel-heading > <h4 class=panel-title ><a data-toggle=collapse  data-parent="#accordion-2" href="#collapseZero-1" class=collapsed > <i class="fa fa-fw fa-plus-circle txt-color-green"></i> <i class="fa fa-fw fa-minus-circle txt-color-red"></i> Fungsi Galeri Video</a></h4> </div> <div id=collapseZero-1  class="panel-collapse collapse"> <div class=panel-body > Sebagai publikasi kegiatan instansi dalam bentuk video. Video yang dapat ditampilkan adalah video yang terlebih dahulu telah di upload ke <b>Channel Youtube Instansi</b>. <br>Galery video akan muncul di bagian bawah dari website Anda, di bagian bawah <b>Galeri Foto</b>. <br> </div> </div> </div> <div class="panel panel-default"> <div class=panel-heading > <h4 class=panel-title ><a data-toggle=collapse  data-parent="#accordion-2" href="#collapseOne-1" class=collapsed > <i class="fa fa-fw fa-plus-circle txt-color-green"></i> <i class="fa fa-fw fa-minus-circle txt-color-red"></i> Cara Mengisi Embed Video </a></h4> </div> <div id=collapseOne-1  class="panel-collapse collapse"> <div class=panel-body > <ol> <li> Klik tombol <b>Tambah Data</b> / <b>Edit Data</b>. <li> Input judul foto. <li> Di kolom inputan embed, klik tombol / toolbar <b>Embed YouTube Video</b>. <li> Lakukan salah satu langkah di bawah ini : <ul> <li> Paste <a data-toggle=collapse  data-parent="#accordion-2" href="#collapseTwo-1"><b>Embed Code</b></a> yang telah di copy sebelumnya. <li> Atau paste <a data-toggle=collapse  data-parent="#accordion-2" href="#collapseThree-1"><b>URL Video</b></a> youtube yang telah di copy dari halaman youtube. </ul> <br> <li> Klik tombol <b>Simpan</b> <li> Refresh tampilan website Anda. </ol> <h3>Contoh Embed:</h3> <pre>
&lt;iframe width="759" height="427" 
    src="https&#58;&#47;&#47;www.youtube.com&#47;embed&#47;_P7FX8rhXk4" 
    title="YouTube video player" 
    frameborder="0" 
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
    allowfullscreen&gt;
&lt;&#47;iframe&gt;
</pre> </div> </div> </div> <div class="panel panel-default"> <div class=panel-heading > <h4 class=panel-title ><a data-toggle=collapse  data-parent="#accordion-2" href="#collapseTwo-1" class=collapsed > <i class="fa fa-fw fa-plus-circle txt-color-green"></i> <i class="fa fa-fw fa-minus-circle txt-color-red"></i> Cara Copy Embed Video </a></h4> </div> <div id=collapseTwo-1  class="panel-collapse collapse"> <div class=panel-body > <ol> <li> Upload video di youtube. <li> Buka / tonton video Anda di youtube. <li> Klik kanan di area video yang sedang Anda tonton. <li> Pilih <b>Copy Embed Code</b>. </ol> <hr> <a data-toggle=collapse  data-parent="#accordion-2" href="#collapseOne-1"><b>&#60;&#60; kembali</b></a> </div> </div> </div> <div class="panel panel-default"> <div class=panel-heading > <h4 class=panel-title ><a data-toggle=collapse  data-parent="#accordion-2" href="#collapseThree-1" class=collapsed > <i class="fa fa-fw fa-plus-circle txt-color-green"></i> <i class="fa fa-fw fa-minus-circle txt-color-red"></i> Cara Copy URL Video </a></h4> </div> <div id=collapseThree-1  class="panel-collapse collapse"> <div class=panel-body > <ol> <li> Upload video di youtube. <li> Buka / tonton video Anda di youtube. <li> Klik di <b>Address Bar</b> video yang sedang Anda tonton. <li> Klik kanan, pilih <b>Copy</b>. <li> Contoh URL yang di copy : <b><pre>https&#58;&#47;&#47;www.youtube.com&#47;watch&#63;v&#61;agSmy1pWqGM</pre></b>                                                         
                                                    </ol>                                                    

                                                    <hr>
                                                    <a data-toggle=collapse  data-parent="#accordion-2" href="#collapseOne-1"><b>&#60;&#60; kembali</b></a>
                                                </div>
                                            </div>
                                        </div>                                        
                                    </div>

                                </div>

                            </div>

                        </div>

                    </article>
                    <article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                        <div class=jarviswidget  id=wid-id-0 >
                            <header>
                                {% for i in menu_aktif %}
                                    <span class=widget-icon > 
                                    {% if i.icon != '' %}
                                        <i class="fa-fw fa fa-{{i.icon}}"></i> 
                                    {% else %}
                                        <i class="fa-fw fa fa-home"></i> 
                                    {% endif %}
                                    </span>

                                    <h2>{{i.nama}}</h2>
                                    
                                {% endfor %}				
                                
                            </header>
                            <div>
                                <div class=jarviswidget-editbox >
                                    <input class=form-control  type=text >	
                                </div>
                                <div class=widget-body >
                                    {{ formset_img.management_data }}    
                                    {% if formset_img.non_form_errors %}
                                        <div class="alert alertdanger">{{formset_img.non_form_errors}}</div>
                                    {% endif %}
                                    
                                    {% if form.errors %}
                                        {% for field in form %}
                                            {% for error in field.errors %}
                                                <div class="alert alert-danger">
                                                    <strong>{{ field.label }}</strong><span>{{ error|escape }}</strong>
                                                </div>
                                            {% endfor %}
                                        {% endfor %}
                                        {% for error in form.non_field_errors %}
                                            <div class="alert alert-danger">
                                                <strong>{{ error|escape }}</strong>
                                            </div>
                                        {% endfor %}
                                    {% endif %}
                                    {% if mode == '' %}
                                        <table id=datatable_tabletools  class="table table-striped table-bordered table-hover" width="100%">
                                            <thead>
                                                <tr>
                                                    <th>ID                                                                                                        
                                                    <th data-hide=expand >Judul                                                    
                                                    <th data-hide="phone,tablet">URL                                                                                                                                                             
                                                    <th data-hide="phone,tablet">Last Update                                                
                                                    <th>Action
                                                
                                            
                                            
                                        </table>
                                    {% elif  mode|lower == 'add' or mode|lower == 'edit' %}
                                        <form class=form-horizontal  method=POST  enctype="multipart/form-data"> 
                                            {% csrf_token %}
                                            {{ form.media }}
                                            <fieldset>
                                                <div class=form-group >
                                                    <label class="control-label col-md-1">{{form.judul.label_tag}}</label>
                                                    <div class=col-md-11 >
                                                        <div class=row >
                                                            <div class=col-sm-12 >                                
                                                                <div class=input-group >
                                                                    <span class=input-group-addon ><i class="icon-prepend fa fa-user"></i></span>																	
                                                                    {{form.judul}}                                    
                                                                </div>
                                                            </div>                            
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <div class=form-group >													
                                                    <label class="control-label col-md-1" for=prepend > {{form.embed.label_tag}}</label>
                                                    <div class=col-md-11 >
                                                        <div class=row >
                                                            <div class=col-sm-12 >
                                                                    {{form.embed}}
                                                            </div>                              
                                                        </div>
                                                    </div>                        
                                                </div>                                                 

                                                
                                                

                                                
                                            </fieldset>

                                            <div class=form-actions >
                                                <div class=row >
                                                    <div class=col-md-12 >
                                                        
                                                        <button class="btn btn-primary" type=submit  value=save  name=proses >                                                                								
                                                            <i class="icon-prepend fa fa-save"></i> simpan
                                                        </button>
                                                        <button class="btn btn-secondary" type=submit  id=cancel-btn  value=cancel  name=proses >
                                                            <i class="icon-prepend fa fa-ban"></i> batal                                                           
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>  
                                    {% endif %}
            
                                </div>
                                
                            </div>
                            
                        </div>
            
                    </article>
                    
                </div>
            
                <div class=row >
                    <div class=col-sm-12 >
                    </div>
                        
                </div>
            
            </section>

        </div>

    </div>
{% endblock %}

{% block java-script %}    
    
{% endblock %}

{% block jquery-doc-ready %}
    var breakpointDefinition = {
        tablet : 1024,
        phone : 480
    };

    var responsiveHelper_datatable_tabletools = undefined;
    $('#datatable_tabletools').dataTable({
        
        "deferRender": true,    
        ajax: {            
            
            "url": "{% url 'galery_video_ajax' %}",
            "dataSrc": ""
        },
        columns:[
            {data: "id"},                        
            {data: "judul"},            
            {data: "embed_video", render: $.fn.dataTable.render.text()},            
            {data: "updated_at"},                   
            {render: function ( data, type, row ) {                
                return "<div class='toolbar text-right'><button onclick='do_edit(" + row.id + ");' class='btn btn-success btn-xs' title='Edit Data'> "+
                       "    <i class='fa fa-edit'></i> "+                                                           
                       "</button> "+
                       "<button onclick='do_delete(" + row.id + ", \"" + row.judul + "\"" + ");' class='btn btn-danger btn-xs' title='Hapus Data'> "+
                       "    <i class='fa fa-eraser'></i> "+                                                           
                       "</button>"+
                       "</div>";
                }
            },      
        ],     
        "order": [[ 0, "desc" ]],   
        "columnDefs": [
            {
                "targets": [ 0 ],
                "visible": false,
                "searchable": false
            },  
            {
                
                "targets": [ 1 ],
                
                render: function(data, type, row) {                            
                    return  "<a href='javascript:void(0);' onclick='do_edit(" + row.id + ");' title='Edit Data'>"+ 
                            "<strong>" + data + "</strong>" +
                            "</a>";                                
                }                    
            },
            { 
                "targets": [ 4 ], 
                "width": "60px",
                "sortable": false,
                "searchable": false,  
            },

            
            
            
            
            
            
            
            
                    
            
            
            
        ],        
        
        "sDom": "<'dt-toolbar text-right'<'col-xs-12 col-sm-6 hidden-xs'f><'toolbar'>r>"+                
                "t"+
                "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",      
        "autoWidth" : true,
        "oLanguage": {
            "sSearch": '<span class=input-group-addon ><i class="glyphicon glyphicon-search"></i></span>'
        },		            
        "preDrawCallback" : function() {
            
            if (!responsiveHelper_datatable_tabletools) {
                responsiveHelper_datatable_tabletools = new ResponsiveDatatablesHelper($('#datatable_tabletools'), breakpointDefinition);
            }
        },
        "rowCallback" : function(nRow) {
            responsiveHelper_datatable_tabletools.createExpandIcon(nRow);
        },
        "drawCallback" : function(oSettings) {
            responsiveHelper_datatable_tabletools.respond();
        }

    });

    
    $("div.toolbar").html(
        "<a class='btn btn-primary btn-md' href='javascript:void(0);' onclick='do_add(\"add\");' title='Tambah Data'> " +
        "<i class='fa fa-plus'></i></a>");

    $("#cancel-btn").click(function (event) {
        {% if mode == 'add' %}
            if (confirm("Batal input data?")) {
                event.preventDefault();        
                window.history.back(); 
            }       
        {% elif mode == 'edit' %}
            if (confirm("Batal edit data?")) {
                event.preventDefault();        
                window.history.back(); 
            }   
        {% endif %}    
    });
    
    

    {% for message in messages %}                                        		
        $.smallBox({
            title : "<i class='fa fa-desktop'></i> &nbsp;&nbsp; {{message|safe}}",
            content : "<i class='fa fa-clock-o'></i> <i>Berita</i>",
            color : "#296191",
            iconSmall : "fa fa-thumbs-up bounce animated",
            timeout : 4000
        });
    {% endfor %}
{% endblock %}

{% block related-plugin %}        
    <script src="{% static 'account/js/plugin/datatables/jquery.dataTables.min.js' %}"></script>
	<script src="{% static 'account/js/plugin/datatables/dataTables.colVis.min.js' %}"></script>
	<script src="{% static 'account/js/plugin/datatables/dataTables.tableTools.min.js' %}"></script>
	<script src="{% static 'account/js/plugin/datatables/dataTables.bootstrap.min.js' %}"></script>
	<script src="{% static 'account/js/plugin/datatable-responsive/datatables.responsive.min.js' %}"></script>
{% endblock %}