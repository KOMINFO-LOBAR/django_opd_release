{% extends "account/base-dashboard.html" %} {% load static %} {% block content %} <div id=main  role=main > <div id=ribbon > <span class=ribbon-button-alignment > <span id=refresh  class="btn btn-ribbon" data-action=resetWidgets  data-title=refresh  rel=tooltip  data-placement=bottom  data-original-title="<i class='text-warning fa fa-warning'></i> Warning! This will reset all your widget settings." data-html="true"> <i class="fa fa-refresh"></i> </span> </span> <ol class=breadcrumb > <li>Selamat Datang, {{ user.username|default:'Guest'|title }} - [ {{namaOPD}} ] </ol> </div> <div id=content > <div class=row > <div class="col-xs-12 col-sm-7 col-md-7 col-lg-4"> <h1 class="page-title txt-color-blueDark"> {% for i in menu_aktif %} {% if i.icon != '' %} <i class="fa-fw fa fa-{{i.icon}}"></i> {% else %} <i class="fa-fw fa fa-home"></i> {% endif %} {{i.nama}} <span>> Grid </span> {% endfor %} </h1> </div> </div> <section id=widget-grid  class=""> <div class=row > <article class="col-xs-12 col-sm-12 col-md-4 col-lg-4"> <div class=jarviswidget  id=wid-id-0  data-widget-colorbutton=false  data-widget-editbutton=false  data-widget-togglebutton=false  data-widget-deletebutton=false  data-widget-fullscreenbutton=false  data-widget-custombutton=false  data-widget-collapsed=false  data-widget-sortable=false > <header> <span class=widget-icon > <i class="fa-fw fa fa-comment"></i> </span> <h2><strong>Top</strong> <i>Contributor</i> - [Berita]</h2> </header> <div> <div class="widget-body top-contributor-berita"> <h4 class="alert alert-info"> Load Data ... </h4> </div> </div> </div> </article> <article class="col-xs-12 col-sm-12 col-md-4 col-lg-4"> <div class=jarviswidget  id=wid-id-0  data-widget-colorbutton=false  data-widget-editbutton=false  data-widget-togglebutton=false  data-widget-deletebutton=false  data-widget-fullscreenbutton=false  data-widget-custombutton=false  data-widget-collapsed=false  data-widget-sortable=false > <header> <span class=widget-icon > <i class="fa-fw fa fa-comment"></i> </span> <h2><strong>Top</strong> <i>Contributor</i> - [Pengumuman]</h2> </header> <div> <div class=jarviswidget-editbox > <input class=form-control  type=text > <span class=note ><i class="fa fa-check text-success"></i> Change title to update and save instantly!</span> </div> <div class="widget-body top-contributor-pengumuman"> <h3 class="alert alert-info"> Load Data ... </h3> </div> </div> </div> </article> <article class="col-xs-12 col-sm-12 col-md-4 col-lg-4"> <div class=jarviswidget  id=wid-id-0  data-widget-colorbutton=false  data-widget-editbutton=false  data-widget-togglebutton=false  data-widget-deletebutton=false  data-widget-fullscreenbutton=false  data-widget-custombutton=false  data-widget-collapsed=false  data-widget-sortable=false > <header> <span class=widget-icon > <i class="fa-fw fa fa-comment"></i> </span> <h2><strong>Top</strong> <i>Contributor</i> - [Artikel]</h2> </header> <div> <div class=jarviswidget-editbox > <input class=form-control  type=text > <span class=note ><i class="fa fa-check text-success"></i> Change title to update and save instantly!</span> </div> <div class="widget-body top-contributor-artikel"> <h3 class="alert alert-info"> Load Data ... </h3> </div> </div> </div> </article> </div> </section> <section id=widget-grid  class=""> <div class=row > <article class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> <div class=jarviswidget  id=wid-id-0 > <header> {% for i in menu_aktif %} <span class=widget-icon > {% if i.icon != '' %} <i class="fa-fw fa fa-{{i.icon}}"></i> {% else %} <i class="fa-fw fa fa-home"></i> {% endif %} </span> <h2>Hit Count (Jumlah Pengunjung)</h2> {% endfor %} </header> <div> <div class=jarviswidget-editbox > <input class=form-control  type=text > </div> <div class=widget-body > <canvas id=lineChartHit  height=120 ></canvas> </div> </div> </div> </article> </div> <div class=row > <div class=col-sm-12 > </div> </div> </section> <section id=widget-grid  class=""> <div class=row > <article class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> <div class=jarviswidget  id=wid-id-0 > <header> {% for i in menu_aktif %} <span class=widget-icon > {% if i.icon != '' %} <i class="fa-fw fa fa-{{i.icon}}"></i> {% else %} <i class="fa-fw fa fa-home"></i> {% endif %} </span> <h2>News Count</h2> {% endfor %} </header> <div> <div class=jarviswidget-editbox > <input class=form-control  type=text > </div> <div class=widget-body > <canvas id=lineChartNews  height=120 ></canvas> </div> </div> </div> </article> </div> <div class=row > <div class=col-sm-12 > </div> </div> </section> </div> </div> {% endblock %} {% block jquery-doc-ready %} var bln = "{{mChartHit.bulan}}"; var line_hit_array = {{mChartHit.hit}}; var line_bln_array = bln.split(","); var bln = "{{mChartNews.bulan}}"; var news_berita_array = {{mChartNews.berita}}; var news_pengumuman_array = {{mChartNews.pengumuman}}; var news_artikel_array = {{mChartNews.artikel}}; var news_bln_array = bln.split(","); var LineConfig = create_graph_hitcount(line_bln_array,line_hit_array); var LineConfigNews = create_graph_newscount(news_bln_array,news_berita_array,news_pengumuman_array,news_artikel_array); window.myLine = new Chart(document.getElementById("lineChartHit"), LineConfig); window.myLine2 = new Chart(document.getElementById("lineChartNews"), LineConfigNews); $.ajax({ url: "/dashboard/top_kontributor_berita/", type: "GET", success: function(result){ console.log(result); var res = '<dl class=dl-horizontal >'; var user_id = {{ user.id }}; for (let i=0; i<result.length; i++) { if (user_id == result[i][0][0]) { res = res + '<dt class=txt-color-green >' + result[i][0][1].replace("lobar","") + ' ' + '<dd class=txt-color-green >' + result[i][1] + ' data '; } else { res = res + '<dt>' + result[i][0][1].replace("lobar","") + ' ' + '<dd>' + result[i][1] + ' data '; }; }; res = res + '</dl>'; $('.top-contributor-berita').html(res); } }); $.ajax({ url: "/dashboard/top_kontributor_pengumuman/", type: "GET", success: function(result){ console.log(result); var res = '<dl class=dl-horizontal >'; var user_id = {{ user.id }}; for (let i=0; i<result.length; i++) { if (user_id == result[i][0][0]) { res = res + '<dt class=txt-color-green >' + result[i][0][1].replace("lobar","") + ' ' + '<dd class=txt-color-green >' + result[i][1] + ' data '; } else { res = res + '<dt>' + result[i][0][1].replace("lobar","") + ' ' + '<dd>' + result[i][1] + ' data '; }; }; res = res + '</dl>'; $('.top-contributor-pengumuman').html(res); } }); $.ajax({ url: "/dashboard/top_kontributor_artikel/", type: "GET", success: function(result){ console.log(result); var res = '<dl class=dl-horizontal >'; var user_id = {{ user.id }}; for (let i=0; i<result.length; i++) { if (user_id == result[i][0][0]) { res = res + '<dt class=txt-color-green >' + result[i][0][1].replace("lobar","") + ' ' + '<dd class=txt-color-green >' + result[i][1] + ' data '; } else { res = res + '<dt>' + result[i][0][1].replace("lobar","") + ' ' + '<dd>' + result[i][1] + ' data '; }; }; res = res + '</dl>'; $('.top-contributor-artikel').html(res); } }); {% for message in messages %} $.smallBox({ title : "<i class='fa fa-desktop'></i> &nbsp;&nbsp; {{message|safe}}", content : "<i class='fa fa-link'></i> <i>Dashboard</i>", color : "#296191", iconSmall : "fa fa-thumbs-up bounce animated", timeout : 4000 }); {% endfor %} {% endblock %} {% block related-plugin %} <script src="{% static 'account/js/plugin/moment/moment.min.js' %}"></script> <script src="{% static 'account/js/plugin/chartjs/chart.min.js' %}"></script> {% endblock %}